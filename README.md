# Link_words
1, 作成プログラムについて–「リンク度計算プログラム」
リンク度を調べたい単語を、単語を含むwebpage番号とともにwords.txtに入れる。それらの単語を含むpageと他のpageとのリンク数から、単語のリンク度を2通りの方法で計算してランキング順に出力する。
方法１：確率隣接行列を用いて評価(#link1)
方法2 ：pointをリンク数に応じて配分し、そのpointの大小で評価(#link2)

2. プログラムの詳細解説（実行方法含む）
(1)    pythonfileと同じディレクトリにwords.txt(wordとwordを含むwebpageに該当する番号(webpage番号は昇順とする)とが一行ずつセットになったfile)と, links.txt(あるpageからつながっている他のpage番号を一行ずつ羅列したfile)をおく。

(2)    wordic()関数
words.txtを読み込み, 対応するpage番号とwordを辞書にしてpagesに格納。
また, 方法1では読み取った単語の順序がわかるようにするため, page_listにpage番号を格納する。

(3)    link度計算
＊方法１：確率隣接行列を用いる (# link1参照)
    ・link_matrix関数
　縦横ともにw(単語の数)サイズの行列Pを引数にとり, links.txtを読み込む。words.txtのpage番号のうち, i pageからj pageへリンクがある場合はP[j][i]=1/(iからlinkするpageの数)として確率隣接行列をつくる。
　・calculate_pagerank関数
　rateを自由に変えて(0.8が一般的なようである。), 確率隣接行列を計算する。
　k回目の各pageのlink度をXkという配列で表すとすると, Xn+1=MXnの関係性があることがわかる。何回この計算を繰り返すかはstep変数に任意に設定してlink度を求める。
　
　=================================================
＊方法2：ポイントをリンク数に応じて指定したrateで分配する(#link2参照)
　・links関数
　links.txtを読み取り, i pageからlinkを持つ全てのpageを, iがキー, link先のpageのリストがvalueとなった辞書を作成。
　
　・calculate_connects関数
　linkがあるところはlink先のpageにpointを遷移する割合をrateとして配分し, それ以外のpointとlinkがないところのpointは他のpage全てに平等にpointを配分する。計算回数をstep変数に設定し, この方法で求まる各stepの状態でのpointの大小をlink度とする。
　
(4)    link度ranking出力：main関数
　main関数では, link度を調べたい単語のlink数の関係から, ある時点におけるlink度を計算。単語のlink度が高い順にword , link度の値とともに表示する。
　=================================================
　補足
　・words.txtのpage番号はlinks.txtに出現するpage番号に含まれないことがあってもよい(すべての単語のpageがリンクを持つとは限らないため)。ただし、links.txtにあってwords.txtにないpage番号はないとする。
　
　(5)    実装例
　自分で作成した東京メトロの駅名を含むwords.txtとそのリンクを表すlinks.txtで駅のつながりを調べるという目的で実装した出力結果)
　※今回のlinkssmall.txtの関係は実際のメトロの駅のリンクに基づいているわけではない。あくまでも出力例、使用法を示す目的でランダムに作成した。実際にはこの例のようにwebpageの関係だけでなく,  駅ごとに番号を振って, その駅から乗り換えなしでいける駅をリンクした駅とすれば,  その駅のアクセスしやすさがpagerank計算で求められることを示す例である。 
　
　
　
　
　
　
　・方法1:確率行列
　-rate=0.95のとき(step=10)
　==linksrank.TOP5==
　1位 明治神宮前 :1.97286
　2位 白金台 :1.96363
　3位 大手町 :1.63546
　4位 表参道 :1.52832
　5位 月島 :1.04271
　
　-rate=0.8のとき(step=10)
　==linksrank.TOP5==
　1位 白金台 :1.29396
　2位 明治神宮前 :1.22438
　3位 表参道 :0.93695
　4位 大手町 :0.90079
　5位 月島 :0.61863
　
　-rate=0.6のとき(step=10)
　==linksrank.TOP5==
　1位 白金台 :0.96412
　2位 明治神宮前 :0.80957
　3位 表参道 :0.65455
　4位 後楽園 :0.57718
　5位 大手町 :0.56533
　
　・方法２:ポイント分配評価
　-rate=0.95のとき(step=10)
　==linksrank.TOP5==
　1位 明治神宮前 :4.919
　2位 白金台 :4.848
　3位 大手町 :3.234
　4位 表参道 :3.151
　5位 後楽園 :2.196
　
　-rate=0.8のとき(step=10)
　==linksrank.TOP5==
　1位 白金台 :3.909
　2位 明治神宮前 :3.634
　3位 表参道 :2.542
　4位 大手町 :2.434
　5位 後楽園 :2.195
　
　-rate=0.6のとき(step=10)
　==linksrank.TOP5==
　1位 白金台 :2.979
　2位 明治神宮前 :2.479
　3位 後楽園 :2.044
　4位 表参道 :1.99
　5位 六本木 :1.822 
　

